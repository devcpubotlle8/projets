{"mappings":"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","sources":["src/script.js"],"sourcesContent":["const API_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY = \"1d58327409896f686a859cb488fa13f5\";\nconst IMAGES_URL = \"https://image.tmdb.org/t/p/w500\";\n\nconst $form = document.querySelector(\"#form\");\nconst $input = document.querySelector(\"#search\");\nconst $count = document.querySelector(\"#count\");\nconst $results = document.querySelector(\"#results\");\nconst $movie = document.querySelector(\"#movie\");\n\n// Make an API request to get movies for the given query\nfunction getMovies(query) {\n  fetch(`${API_URL}/search/movie/?api_key=${API_KEY}&query=${query}`)\n    .then((response) => response.json())\n    .then((response) => showMovies(response));\n}\n\n// Make an API request to get the details for the given movie\nfunction getMovieDetails(movie) {\n  fetch(`${API_URL}/movie/${movie.id}?api_key=${API_KEY}`)\n    .then((response) => response.json())\n    .then((response) => showMovieDetails(response));\n}\n\n// Add the movies buttons to the DOM\nfunction showMovies(movies) {\n  $results.innerHTML = \"\";\n\n  if (movies.total_results === 0) {\n    $count.innerText = \"Aucun résultat, désolé !\";\n    return;\n  }\n\n  $list = document.createElement(\"div\");\n\n  movies.results.forEach(function (movie) {\n    const $movieImg = document.createElement(\"img\");\n    $movieImg.style.display = \"block\";\n    $movieImg.style.width = 300 + \"px\";\n    $movieImg.style.height = 300 + \"px\";\n    $movieImg.src = \"https://image.tmdb.org/t/p/w500/\" + movie.poster_path;\n    const $movieButton = document.createElement(\"button\");\n    $movieButton.innerHTML = movie.title;\n\n    if (movie.release_date) {\n      const year = movie.release_date.split(\"-\")[0];\n      $movieButton.innerText += ` (${year})`;\n    }\n\n    $movieButton.addEventListener(\"click\", function () {\n      getMovieDetails(movie);\n    });\n    $list.appendChild($movieImg);\n    $list.appendChild($movieButton);\n  });\n\n  $results.appendChild($list);\n}\n\nfunction showMovieDetails(movie) {\n  $movie.innerHTML = `\n    <h2>${movie.title}</h2>\n    <p>Genres : ${movie.genres.map((genre) => genre.name).join(\", \")}</p>\n    <img src=${IMAGES_URL}${movie.poster_path} alt=\"Affiche de ${movie.title}\">\n  `;\n}\n\n// Listen to form submit to trigger search\n$form.addEventListener(\"submit\", function (event) {\n  event.preventDefault();\n\n  getMovies($input.value);\n});\n"],"names":[],"version":3,"file":"index.44983732.js.map","sourceRoot":"/__parcel_source_root/"}